<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sets en Python</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        base: '#ffffff',
                        alt: '#f1f5f9',
                        title: '#003c58',
                        accent: '#06717e',
                        action: '#0055ad',
                        'action-hover': '#399be2',
                        highlight: '#0f6cbf',
                        'text-on-dark': '#6ea2ee',
                        desc: '#6da8e9',
                        body: '#1e293b',
                        border: '#e2e8f0',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }



        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* VS Code Light+ Token Colors */
        .token-keyword {
            color: #0000ff;
        }

        .token-function {
            color: #795e26;
        }

        .token-string {
            color: #a31515;
        }

        .token-number {
            color: #098658;
        }

        .token-comment {
            color: #008000;
        }

        .force-hidden {
            display: none !important;
        }
    </style>
</head>

<body class="bg-alt h-screen w-screen overflow-hidden">

    <!-- Main App Container -->
    <div class="w-full h-full bg-base shadow-2xl border border-border flex flex-col overflow-hidden relative">

        <!-- Header / Navigation Placeholder -->
        <header class="h-16 border-b border-border flex items-center justify-between px-6 bg-base">
            <div class="flex items-center gap-2">
                <div class="w-3 h-3 rounded-full bg-red-400"></div>
                <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
                <div class="w-3 h-3 rounded-full bg-green-400"></div>
                <span class="ml-4 text-title font-semibold text-lg">Unidad 2: Sets</span>
            </div>
            <div class="flex gap-2">
                <!-- Navigation Dots placeholder -->
                <span class="text-sm text-body">Slide <span id="current-slide-num">1</span>/7</span>
            </div>
        </header>

        <!-- Content Area -->
        <main class="flex-1 relative overflow-hidden">
            <!-- Slide 1: Portada -->
            <section id="slide-1"
                class="slide active w-full h-full flex-col justify-center items-center text-center p-12">
                <div class="mb-4">
                    <span
                        class="bg-alt text-accent px-3 py-1 rounded-full text-sm font-medium tracking-wide border border-border">BLOOM:
                        ACTIVACI√ìN</span>
                </div>
                <h1 class="text-6xl font-bold text-title mb-4 tracking-tight">Unidad 2: Sets</h1>
                <p class="text-2xl text-accent font-light mb-12">Fundamentos, operaciones y aplicaciones en Python</p>

                <div class="grid grid-cols-2 gap-8 max-w-2xl w-full mb-12">
                    <div class="bg-alt p-6 rounded-xl border border-border">
                        <h3 class="text-action font-semibold mb-2">Qu√© aprender√°s</h3>
                        <p class="text-body text-sm">A manipular colecciones de datos √∫nicos y sin orden para resolver
                            problemas log√≠sticos.</p>
                    </div>
                    <div class="bg-alt p-6 rounded-xl border border-border">
                        <h3 class="text-action font-semibold mb-2">Para qu√© sirve</h3>
                        <p class="text-body text-sm">Eliminar duplicados instant√°neamente y realizar operaciones
                            matem√°ticas de conjuntos.</p>
                    </div>
                </div>

                <button onclick="nextSlide()"
                    class="bg-action hover:bg-action-hover text-white px-8 py-3 rounded-lg shadow-lg transition-all transform hover:scale-105 font-medium flex items-center gap-2">
                    Comenzar Experiencia
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"
                            clip-rule="evenodd" />
                    </svg>
                </button>

                <!-- Internal Cognitive Check -->
                <div class="hidden">Cognitive Success Check: Student is cognitively primed and understands the
                    high-level utility (efficiency/math).</div>
            </section>

            <!-- Slide 2: ¬øQu√© es un Set? (Comprender) -->
            <section id="slide-2" class="slide force-hidden w-full h-full flex items-center justify-center p-8">
                <div class="max-w-4xl w-full grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                    <!-- Left: Conceptual Definition -->
                    <div class="space-y-6">
                        <div
                            class="bg-alt text-title font-medium px-4 py-2 rounded-lg inline-block text-sm uppercase tracking-wider border border-border">
                            Concepto Clave</div>
                        <h2 class="text-4xl font-bold text-title">¬øQu√© es un Set?</h2>
                        <ul class="space-y-4 text-body text-lg">
                            <li class="flex items-start gap-3">
                                <span class="bg-accent text-white rounded-full p-1 mt-1"><svg class="w-4 h-4"
                                        fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7"></path>
                                    </svg></span>
                                <span><strong>Desordenado:</strong> Los elementos no tienen posici√≥n ni √≠ndice
                                    [0].</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <span class="bg-accent text-white rounded-full p-1 mt-1"><svg class="w-4 h-4"
                                        fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7"></path>
                                    </svg></span>
                                <span><strong>√önico:</strong> No permite duplicados. Si agregas algo repetido, se
                                    ignora.</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <span class="bg-accent text-white rounded-full p-1 mt-1"><svg class="w-4 h-4"
                                        fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7"></path>
                                    </svg></span>
                                <span><strong>Mutable:</strong> Puedes agregar o quitar elementos, pero los elementos
                                    dentro deben ser inmutables.</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Right: Analogy & Interaction -->
                    <div class="flex flex-col gap-6">
                        <!-- Visual Analogy -->
                        <div class="bg-white p-6 rounded-xl border border-border shadow-sm flex flex-col items-center">
                            <h3 class="text-lg font-semibold text-action mb-4 w-full text-center">Analog√≠a: La Bolsa vs.
                                La Estanter√≠a</h3>
                            <div class="flex gap-8 items-center justify-center w-full">
                                <div class="flex flex-col items-center opacity-50">
                                    <div
                                        class="w-24 h-24 border-2 border-dashed border-gray-400 rounded grid grid-cols-1 divide-y divide-gray-300 bg-gray-50">
                                        <div class="flex items-center justify-center text-xs text-gray-400">0: Manzana
                                        </div>
                                        <div class="flex items-center justify-center text-xs text-gray-400">1: Pera
                                        </div>
                                        <div class="flex items-center justify-center text-xs text-gray-400">2: Manzana
                                        </div>
                                    </div>
                                    <span class="text-xs mt-2 uppercase text-gray-500 font-bold">Lista (Ordenada)</span>
                                </div>
                                <div class="text-3xl text-gray-300">vs</div>
                                <div class="flex flex-col items-center relative group">
                                    <div
                                        class="w-32 h-32 rounded-full border-4 border-accent flex items-center justify-center relative bg-blue-50 overflow-hidden">
                                        <!-- Floating Items Animation -->
                                        <div class="absolute animate-bounce" style="top: 20%; left: 30%;">üçé</div>
                                        <div class="absolute animate-pulse" style="top: 60%; left: 60%;">üçê</div>
                                        <div class="absolute animate-ping"
                                            style="top: 30%; right: 20%; animation-duration: 3s;">üçé</div>
                                    </div>
                                    <span class="text-sm mt-2 uppercase text-accent font-bold">Set (Bolsa √önica)</span>
                                    <div
                                        class="absolute -top-2 -right-2 bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full border border-yellow-200 hidden group-hover:block transition-all shadow-md">
                                        ¬°Nada repetido!
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Guided Question -->
                        <div class="bg-action/10 p-5 rounded-lg border border-action/20">
                            <p class="text-title font-medium mb-3 text-sm">ü§î Reflexiona: Si quisieras guardar los IDs
                                de todos los estudiantes que entraron hoy a la biblioteca (sin importar cu√°ntas veces
                                entraron), ¬øpor qu√© una Lista NO ser√≠a eficiente?</p>
                            <details class="text-sm text-body cursor-pointer group">
                                <summary class="font-bold text-action hover:text-action-hover transition-colors">Ver
                                    respuesta</summary>
                                <p class="mt-2 pl-4 border-l-2 border-action">Porque la lista guardar√≠a "ID_123" cada
                                    vez que entre el estudiante. Tendr√≠as que revisar manualmente si ya existe antes de
                                    agregarlo. El <code>set</code> lo hace autom√°ticamente.</p>
                            </details>
                        </div>
                    </div>
                </div>
                <!-- Cognitive Check -->
                <div class="hidden">Cognitive Success Check: Student can correct explain why sets remove duplicates
                    without referencing syntax.</div>
            </section>

            <!-- Slide 3: Operaciones B√°sicas (Aplicar) -->
            <section id="slide-3"
                class="slide force-hidden w-full h-full flex flex-col md:grid md:grid-cols-12 gap-6 p-6 items-center">
                <!-- Left: Controls & Prediction -->
                <div class="md:col-span-4 flex flex-col gap-6 w-full max-w-sm">
                    <div>
                        <h2 class="text-3xl font-bold text-title mb-2">Tu Primer Set</h2>
                        <p class="text-body text-sm mb-4">Predice qu√© pasar√° antes de ejecutar el c√≥digo.</p>
                    </div>

                    <!-- Step 1: Create -->
                    <div class="bg-white p-4 rounded-xl border border-border shadow-sm space-y-2">
                        <div class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-1">Paso 1: Crear</div>
                        <div class="font-mono text-sm bg-gray-50 p-2 rounded border border-gray-100 mb-2">
                            mi_set = {1, 2, 3}
                        </div>
                        <button onclick="runConsoleStep(1)"
                            class="w-full bg-action text-white py-2 rounded font-medium text-sm hover:bg-action-hover transition-all">
                            Ejecutar Creaci√≥n
                        </button>
                    </div>

                    <!-- Step 2: Add Duplicate (Tricky) -->
                    <div
                        class="bg-white p-4 rounded-xl border border-border shadow-sm space-y-2 relative overflow-hidden">
                        <div class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-1">Paso 2: Agregar
                            Duplicado</div>
                        <div class="font-mono text-sm bg-gray-50 p-2 rounded border border-gray-100 mb-2">
                            mi_set.add(2)
                        </div>

                        <!-- Prediction Overlay -->
                        <div id="prediction-step-2"
                            class="absolute inset-0 bg-white/95 z-10 flex flex-col justify-center items-center p-4 text-center transition-opacity">
                            <p class="text-title text-sm font-bold mb-3">¬øQu√© pasar√° con el '2'?</p>
                            <div class="flex gap-2 w-full">
                                <button onclick="handlePrediction(2, false)"
                                    class="flex-1 bg-gray-100 hover:bg-red-100 text-gray-700 py-2 rounded text-xs border border-gray-200">Se
                                    agrega otro 2</button>
                                <button onclick="handlePrediction(2, true)"
                                    class="flex-1 bg-gray-100 hover:bg-green-100 text-gray-700 py-2 rounded text-xs border border-gray-200">No
                                    cambia nada</button>
                            </div>
                        </div>

                        <button id="btn-step-2" onclick="runConsoleStep(2)" disabled
                            class="w-full bg-action text-white py-2 rounded font-medium text-sm hover:bg-action-hover transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                            Ejecutar add(2)
                        </button>
                    </div>

                    <!-- Step 3: Add New -->
                    <div class="bg-white p-4 rounded-xl border border-border shadow-sm space-y-2">
                        <div class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-1">Paso 3: Agregar
                            Nuevo</div>
                        <div class="font-mono text-sm bg-gray-50 p-2 rounded border border-gray-100 mb-2">
                            mi_set.add(5)
                        </div>
                        <button onclick="runConsoleStep(3)"
                            class="w-full bg-action text-white py-2 rounded font-medium text-sm hover:bg-action-hover transition-all">
                            Ejecutar add(5)
                        </button>
                    </div>
                </div>

                <!-- Right: Simulated Terminal -->
                <div class="md:col-span-8 w-full max-w-2xl">
                    <div
                        class="w-full rounded-lg overflow-hidden shadow-2xl bg-[#1e1e1e] font-mono text-sm border border-gray-700">
                        <!-- Mac Title Bar -->
                        <div class="bg-[#2d2d2d] px-4 py-2 flex items-center gap-2 border-b border-gray-600">
                            <div class="w-3 h-3 rounded-full bg-[#ff5f56]"></div>
                            <div class="w-3 h-3 rounded-full bg-[#ffbd2e]"></div>
                            <div class="w-3 h-3 rounded-full bg-[#27c93f]"></div>
                            <span class="ml-2 text-gray-400 text-xs">python ‚Äî interactive</span>
                        </div>
                        <!-- Valid Output Area -->
                        <div class="p-4 h-96 flex flex-col justify-start overflow-y-auto space-y-2 text-gray-300"
                            id="terminal-output">
                            <div class="opacity-50 text-xs text-gray-500">Python 3.12.0 (main, Oct 2 2024, 12:00:00)
                            </div>
                            <div class="opacity-50 text-xs text-gray-500">[Clang 13.0.0 (clang-1300.0.29.30)] on darwin
                            </div>
                            <div class="opacity-50 text-xs text-gray-500 mb-4">Type "help", "copyright", "credits" or
                                "license" for more information.</div>
                            <!-- Dynamic Content will be injected here -->
                        </div>
                    </div>
                    <!-- Feedback Area -->
                    <!-- Feedback Area -->
                    <div id="console-feedback"
                        class="mt-4 p-4 rounded-lg bg-blue-50 border border-blue-100 text-blue-800 text-sm hidden transition-opacity opacity-0">
                    </div>
                </div>
                <div class="hidden">Cognitive Success Check: Student moves from mechanical clicking to conscious
                    prediction of set behavior.</div>
            </section>

            <!-- Slide 4: Operaciones entre Sets (Analizar) -->
            <svg width="0" height="0" style="position: absolute;">
                <defs>
                    <clipPath id="lens-shape" clipPathUnits="objectBoundingBox">
                        <path
                            d="M 0.5,0.13 Q 0.9,0.3 0.9,0.5 Q 0.9,0.7 0.5,0.87 Q 0.1,0.7 0.1,0.5 Q 0.1,0.3 0.5,0.13 Z" />
                    </clipPath>
                </defs>
            </svg>

            <section id="slide-4"
                class="slide force-hidden w-full h-full flex flex-col md:grid md:grid-cols-2 gap-8 p-8 items-center">
                <div class="space-y-6">
                    <h2 class="text-3xl font-bold text-title">Analizando Operaciones</h2>
                    <p class="text-body text-sm">Explora c√≥mo interact√∫an dos conjuntos: <br>
                        <span class="font-mono text-accent">A = {1, 2, 3}</span> y <span class="font-mono text-accent">B
                            = {3, 4, 5}</span>
                    </p>

                    <div class="grid grid-cols-2 gap-3">
                        <button onclick="showVenn('union')"
                            class="p-3 bg-white border border-border rounded-lg shadow-sm hover:bg-alt hover:border-action transition-all text-left group">
                            <div class="font-bold text-action group-hover:text-action-hover">Uni√≥n (|)</div>
                            <div class="text-xs text-gray-500">A uni√≥n B</div>
                        </button>
                        <button onclick="showVenn('intersection')"
                            class="p-3 bg-white border border-border rounded-lg shadow-sm hover:bg-alt hover:border-action transition-all text-left group">
                            <div class="font-bold text-action group-hover:text-action-hover">Intersecci√≥n (&)</div>
                            <div class="text-xs text-gray-500">A inter. B</div>
                        </button>
                        <button onclick="showVenn('difference_a_b')"
                            class="p-3 bg-white border border-border rounded-lg shadow-sm hover:bg-alt hover:border-action transition-all text-left group">
                            <div class="font-bold text-action group-hover:text-action-hover">Diferencia (A - B)</div>
                            <div class="text-xs text-gray-500">Solo en A</div>
                        </button>
                        <button onclick="showVenn('symmetric')"
                            class="p-3 bg-white border border-border rounded-lg shadow-sm hover:bg-alt hover:border-action transition-all text-left group">
                            <div class="font-bold text-action group-hover:text-action-hover">Dif. Sim√©trica (^)</div>
                            <div class="text-xs text-gray-500">No repetidos</div>
                        </button>
                    </div>

                    <!-- Tip Area (Simplified) -->
                    <div class="bg-yellow-50 border border-yellow-200 p-4 rounded-lg hidden" id="mistake-alert">
                        <div class="flex items-start gap-3">
                            <svg class="w-5 h-5 text-yellow-600 mt-0.5" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z">
                                </path>
                            </svg>
                            <div>
                                <h4 class="font-bold text-yellow-800 text-sm">¬°Tip Pro!</h4>
                                <p class="text-yellow-700 text-xs mt-1" id="tip-text"></p>
                                <button onclick="showVenn('difference_b_a')"
                                    class="mt-2 text-[10px] bg-yellow-200 hover:bg-yellow-300 text-yellow-800 px-2 py-0.5 rounded border border-yellow-400 font-bold transition-colors">
                                    Probar B - A
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Dynamic Code Example -->
                    <div class="bg-[#f3f3f3] border border-border rounded-lg overflow-hidden shadow-sm">
                        <div class="bg-[#e8e8e8] px-3 py-1 text-[10px] text-gray-500 font-mono flex items-center gap-2">
                            <span class="w-2.5 h-2.5 rounded-full bg-red-400/50"></span>
                            <span class="w-2.5 h-2.5 rounded-full bg-yellow-400/50"></span>
                            <span class="w-2.5 h-2.5 rounded-full bg-green-400/50"></span>
                            ejemplo.py
                        </div>
                        <div class="p-4 font-mono text-xs leading-relaxed space-y-1 bg-white" id="venn-code-container">
                            <div class="text-gray-400"># Selecciona una operaci√≥n superior</div>
                            <div><span class="text-blue-600">set_a</span> = {<span class="text-green-600">1, 2,
                                    3</span>}</div>
                            <div><span class="text-blue-600">set_b</span> = {<span class="text-green-600">3, 4,
                                    5</span>}</div>
                        </div>
                    </div>
                </div>

                <!-- Visualization Area -->
                <div id="universe"
                    class="flex flex-col items-center justify-center p-6 bg-white rounded-xl border border-border shadow-inner min-h-[350px] relative">

                    <div class="relative w-80 h-48 mt-4">
                        <!-- Background Overlays -->
                        <div id="overlay-a"
                            class="absolute left-0 w-48 h-48 rounded-full transition-all duration-500 pointer-events-none opacity-0 z-0">
                        </div>
                        <div id="overlay-b"
                            class="absolute right-0 w-48 h-48 rounded-full transition-all duration-500 pointer-events-none opacity-0 z-0">
                        </div>
                        <div id="overlay-int"
                            class="absolute left-1/2 -translate-x-1/2 w-20 h-48 transition-all duration-500 pointer-events-none opacity-0 z-10"
                            style="clip-path: url(#lens-shape);"></div>
                        <!-- Borders/Labels -->
                        <div id="circle-a"
                            class="absolute left-0 w-48 h-48 rounded-full border-2 border-accent/40 flex items-center justify-center pointer-events-none z-20">
                            <span class="font-bold text-accent absolute top-4 left-10">A</span>
                            <div class="absolute text-sm text-gray-600 left-12 top-20">1, 2</div>
                        </div>
                        <div id="circle-b"
                            class="absolute right-0 w-48 h-48 rounded-full border-2 border-action/40 flex items-center justify-center pointer-events-none z-20">
                            <span class="font-bold text-action absolute top-4 right-10">B</span>
                            <div class="absolute text-sm text-gray-600 right-12 top-20">4, 5</div>
                        </div>
                        <!-- Intersection Area Text -->
                        <div
                            class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-8 flex items-center justify-center z-30 pointer-events-none">
                            <span class="text-sm font-bold text-gray-800 transition-opacity duration-300"
                                id="element-3">3</span>
                        </div>
                    </div>
                    <div id="venn-explanation" class="mt-12 text-center text-body text-sm font-medium h-10">
                        Selecciona una operaci√≥n para visualizarla.
                    </div>
                    <div id="venn-result"
                        class="mt-2 font-mono text-lg bg-gray-100 px-4 py-1 rounded-full text-title border border-border opacity-0 transition-opacity duration-500">
                        {}
                    </div>
                </div>
                <div class="hidden">Cognitive Success Check: Student can identify non-commutative operations and
                    visual intersection.</div>
            </section>

            <!-- Slide 5: Comparaci√≥n de Sets -->
            <section id="slide-5"
                class="slide force-hidden w-full h-full flex flex-col md:grid md:grid-cols-2 gap-8 p-12 items-center">
                <div class="space-y-6">
                    <div class="flex items-center gap-2">
                        <div
                            class="bg-action/10 text-action px-3 py-1 rounded-full text-xs font-bold tracking-wide border border-action/10">
                            COMPRAR COLECIONES</div>
                        <span class="text-xs text-gray-400 font-mono">issubset() / issuperset()</span>
                    </div>
                    <h2 class="text-3xl font-bold text-title">Comparaci√≥n de Sets</h2>
                    <p class="text-body text-lg leading-relaxed">
                        Podemos preguntar a Python si un conjunto est√° <strong>contenido</strong> dentro de otro.
                    </p>

                    <div class="grid grid-cols-2 gap-3">
                        <button onclick="showComp('subset')"
                            class="p-3 bg-white border border-border rounded-lg shadow-sm hover:border-action transition-all text-left group">
                            <div class="font-bold text-action group-hover:text-action-hover">Subconjunto (<)< /div>
                                    <div class="text-[10px] text-gray-500 italic">issubset()</div>
                        </button>
                        <button onclick="showComp('superset')"
                            class="p-3 bg-white border border-border rounded-lg shadow-sm hover:border-action transition-all text-left group">
                            <div class="font-bold text-action group-hover:text-action-hover">Superconjunto (>)</div>
                            <div class="text-[10px] text-gray-500 italic">issuperset()</div>
                        </button>
                        <button onclick="showComp('subset_eq')"
                            class="p-3 bg-white border border-border rounded-lg shadow-sm hover:border-action transition-all text-left group">
                            <div class="font-bold text-action group-hover:text-action-hover">Sub. o Igual (<=)< /div>
                        </button>
                        <button onclick="showComp('superset_eq')"
                            class="p-3 bg-white border border-border rounded-lg shadow-sm hover:border-action transition-all text-left group">
                            <div class="font-bold text-action group-hover:text-action-hover">Sup. o Igual (>=)</div>
                        </button>
                    </div>

                    <!-- Dynamic Code Example -->
                    <div class="bg-[#f3f3f3] border border-border rounded-lg overflow-hidden shadow-sm mt-4">
                        <div class="bg-[#e8e8e8] px-3 py-1 text-[10px] text-gray-500 font-mono flex items-center gap-2">
                            <span class="w-2.5 h-2.5 rounded-full bg-red-400/50"></span>
                            <span class="w-2.5 h-2.5 rounded-full bg-yellow-400/50"></span>
                            <span class="w-2.5 h-2.5 rounded-full bg-green-400/50"></span>
                            comparar.py
                        </div>
                        <div class="p-4 font-mono text-xs leading-relaxed space-y-1 bg-white" id="comp-code-container">
                            <div class="text-gray-400"># Selecciona una comparaci√≥n</div>
                            <div><span class="text-blue-600">set_a</span> = {<span class="text-green-600">1, 2,
                                    3</span>}</div>
                            <div><span class="text-blue-600">set_b</span> = {<span class="text-green-600">3, 4,
                                    5</span>}</div>
                        </div>
                        <div id="comp-feedback" class="bg-blue-50 border border-blue-200 p-4 rounded-lg hidden mt-4">
                            <p class="text-blue-800 text-sm" id="comp-tip-text"></p>
                        </div>
                    </div> <!-- End space-y-6 -->

                    <!-- Simulation Area (Right Column) -->
                    <div
                        class="flex flex-col items-center justify-center p-8 bg-white rounded-xl border border-border shadow-inner min-h-[400px] relative w-full">
                        <div class="relative w-80 h-64 flex items-center justify-center">
                            <!-- Circle B (Container) -->
                            <div id="comp-circle-b"
                                class="absolute w-60 h-60 rounded-full border-4 border-action/30 flex items-center justify-center transition-all duration-700 bg-transparent">
                                <span class="font-bold text-action absolute top-4 right-10">B</span>
                                <div class="absolute text-sm text-gray-400 bottom-10 right-10">4, 5</div>
                            </div>
                            <!-- Circle A (Potential nested) -->
                            <div id="comp-circle-a"
                                class="absolute w-32 h-32 rounded-full border-4 border-accent/30 flex items-center justify-center transition-all duration-700 bg-transparent z-10">
                                <span class="font-bold text-accent absolute -top-8">A</span>
                                <div class="absolute text-sm text-gray-600">1, 2</div>
                            </div>
                        </div>

                        <div id="comp-explanation" class="mt-8 text-center text-body text-sm font-medium h-12 px-6">
                            Selecciona una comparaci√≥n para ver c√≥mo se relacionan los conjuntos.
                        </div>
                        <div id="comp-result"
                            class="mt-4 font-mono text-xl font-bold px-6 py-2 rounded-full bg-gray-100 border border-border opacity-0 transition-all duration-500">
                            Result
                        </div>
                    </div>
            </section>

            <!-- Slide 6: Contexto Real (Evaluar) -->
            <section id="slide-6"
                class="slide force-hidden w-full h-full flex flex-col md:grid md:grid-cols-2 gap-12 p-12 items-center">
                <div class="space-y-6">
                    <div
                        class="bg-blue-50 text-action px-3 py-1 rounded-full text-xs font-bold tracking-wide border border-blue-100 w-max">
                        CASO PR√ÅCTICO</div>
                    <h2 class="text-3xl font-bold text-title">Tienda F√≠sica vs. Online</h2>
                    <p class="text-body text-lg leading-relaxed">
                        Tienes dos bases de datos de clientes:
                    </p>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-center gap-2">
                            <span class="w-24 font-bold text-accent">Tienda F√≠sica:</span>
                            <span class="font-mono bg-gray-50 px-2 py-1 rounded">{Juan, Ana, Pedro}</span>
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-24 font-bold text-action">Tienda Online:</span>
                            <span class="font-mono bg-gray-50 px-2 py-1 rounded">{Ana, Pedro, Luis}</span>
                        </li>
                    </ul>

                    <div class="bg-white p-6 rounded-xl border-l-4 border-highlight shadow-md">
                        <h3 class="font-bold text-title mb-2">El Desaf√≠o</h3>
                        <p class="text-body text-sm mb-4">Queremos enviar un cup√≥n de descuento especial a los clientes
                            que COMPRARON EN AMBAS tiendas.</p>
                        <p class="text-body text-sm font-medium italic">¬øQu√© operaci√≥n de conjuntos resuelve esto?</p>
                    </div>
                </div>

                <div class="space-y-4">
                    <button onclick="checkScenario('union', this)"
                        class="w-full p-4 bg-white border border-border rounded-xl shadow-sm hover:shadow-md transition-all text-left group relative overflow-hidden">
                        <div class="font-bold text-body group-hover:text-action transition-colors">A) Uni√≥n (|)</div>
                        <div class="text-xs text-gray-500 mt-1">Enviar a todos los que compraron en cualquiera de las
                            dos.</div>
                        <div class="overlay absolute inset-0 bg-red-50 opacity-0 transition-opacity"></div>
                    </button>

                    <button onclick="checkScenario('intersection', this)"
                        class="w-full p-4 bg-white border border-border rounded-xl shadow-sm hover:shadow-md transition-all text-left group relative overflow-hidden">
                        <div class="font-bold text-body group-hover:text-action transition-colors">B) Intersecci√≥n (&)
                        </div>
                        <div class="text-xs text-gray-500 mt-1">Enviar solo a los que aparecen en ambas listas.</div>
                        <div class="overlay absolute inset-0 bg-green-50 opacity-0 transition-opacity"></div>
                    </button>

                    <button onclick="checkScenario('difference', this)"
                        class="w-full p-4 bg-white border border-border rounded-xl shadow-sm hover:shadow-md transition-all text-left group relative overflow-hidden">
                        <div class="font-bold text-body group-hover:text-action transition-colors">C) Diferencia (-)
                        </div>
                        <div class="text-xs text-gray-500 mt-1">Enviar a los que compraron en f√≠sica pero no online.
                        </div>
                        <div class="overlay absolute inset-0 bg-red-50 opacity-0 transition-opacity"></div>
                    </button>

                    <div id="scenario-feedback" class="hidden mt-4 p-4 rounded-lg text-sm border">
                        <!-- Dynamic feedback -->
                    </div>
                </div>
                <!-- Cognitive Check -->
                <div class="hidden">Cognitive Success Check: Student selects correct operation based on natural language
                    problem.</div>
            </section>

            <!-- Slide 7: Cierre (Metacognici√≥n) -->
            <section id="slide-7"
                class="slide force-hidden w-full h-full flex flex-col items-center justify-center p-12 text-center">
                <h2 class="text-4xl font-bold text-title mb-8">¬°Misi√≥n Cumplida! üöÄ</h2>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 w-full max-w-5xl">
                    <!-- Column 1: Conceptos -->
                    <div class="bg-white p-6 rounded-xl border border-border shadow-sm flex flex-col items-center">
                        <div class="w-12 h-12 bg-accent/10 rounded-full flex items-center justify-center mb-4">
                            <svg class="w-6 h-6 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z">
                                </path>
                            </svg>
                        </div>
                        <h3 class="font-bold text-title mb-2">Conceptos Clave</h3>
                        <ul class="text-sm text-body space-y-2 text-left w-full px-4">
                            <li class="flex items-center gap-2"><span
                                    class="w-2 h-2 rounded-full bg-accent"></span>Colecci√≥n
                                desordenada</li>
                            <li class="flex items-center gap-2"><span
                                    class="w-2 h-2 rounded-full bg-accent"></span>Elementos
                                √öNICOS</li>
                            <li class="flex items-center gap-2"><span
                                    class="w-2 h-2 rounded-full bg-accent"></span>Ideal para
                                matem√°ticas</li>
                        </ul>
                    </div>

                    <!-- Column 2: Logros -->
                    <div
                        class="bg-white p-6 rounded-xl border border-border shadow-sm flex flex-col items-center relative overflow-hidden">
                        <div class="absolute top-0 w-full h-1 bg-gradient-to-r from-action to-action-hover"></div>
                        <div class="w-12 h-12 bg-action/10 rounded-full flex items-center justify-center mb-4">
                            <svg class="w-6 h-6 text-action" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                        <h3 class="font-bold text-title mb-2">Ahora puedes...</h3>
                        <ul class="text-sm text-body space-y-2 text-left w-full px-4">
                            <li class="flex items-center gap-2">‚úÖ Eliminar duplicados de una lista</li>
                            <li class="flex items-center gap-2">‚úÖ Encontrar elementos comunes</li>
                            <li class="flex items-center gap-2">‚úÖ Verificar pertenencia r√°pidamente</li>
                        </ul>
                    </div>

                    <!-- Column 3: Cu√°ndo Usar -->
                    <div
                        class="bg-gray-50 p-6 rounded-xl border border-border dashed border-2 flex flex-col items-center">
                        <div class="w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mb-4">
                            <svg class="w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path>
                            </svg>
                        </div>
                        <h3 class="font-bold text-gray-700 mb-2">¬øCu√°ndo NO usarlo?</h3>
                        <p class="text-xs text-body mb-2 text-center">Si el <strong>orden</strong> importa (ej.
                            historial de navegaci√≥n).</p>
                        <p class="text-xs text-body text-center">Si necesitas acceder por <strong>√≠ndice</strong> (ej.
                            <code>items[0]</code>).
                        </p>
                    </div>
                </div>

                <div class="mt-12">
                    <p class="text-gray-400 text-sm mb-4">Has completado el M√≥dulo 3 de la Unidad 1</p>
                    <button onclick="location.reload()"
                        class="bg-alt text-action hover:bg-gray-200 border border-border px-6 py-2 rounded-full text-sm font-medium transition-colors">
                        Reiniciar M√≥dulo
                    </button>
                </div>
                <!-- Cognitive Check -->
                <div class="hidden">Cognitive Success Check: Student can articulate a valid use-case for sets vs lists.
                </div>
            </section>
        </main>

        <!-- Footer / Progress -->
        <footer class="h-12 bg-alt border-t border-border flex items-center justify-between px-6">
            <button onclick="prevSlide()" class="text-body hover:text-action text-sm font-medium disabled:opacity-50"
                id="btn-prev">Anterior</button>
            <div class="flex gap-1">
                <div class="w-16 h-1 bg-action rounded-full"></div>
                <!-- Progress bar logic to be added -->
            </div>
            <button onclick="nextSlide()" class="text-body hover:text-action text-sm font-medium disabled:opacity-50"
                id="btn-next">Siguiente</button>
        </footer>

    </div>

    <script>
        let currentSlide = 1;
        const totalSlides = 7;


        // --- Slide 3 Logic ---
        let internalSetState = [];
        let currentConsoleStep = 0;

        function addToTerminal(content) {
            const term = document.getElementById('terminal-output');
            const newDiv = document.createElement('div');
            newDiv.innerHTML = content;
            newDiv.className = 'opacity-0 transform translate-y-2 transition-all duration-300';
            term.appendChild(newDiv);
            term.scrollTop = term.scrollHeight;
            requestAnimationFrame(() => newDiv.classList.remove('opacity-0', 'translate-y-2'));
        }

        function showFeedback(msg, type = 'info') {
            const fb = document.getElementById('console-feedback');
            fb.innerHTML = msg;
            fb.className = `mt-4 p-4 rounded-lg text-sm border transition-opacity duration-300 ${type === 'success' ? 'bg-green-50 border-green-200 text-green-800' :
                type === 'error' ? 'bg-red-50 border-red-200 text-red-800' :
                    'bg-blue-50 border-blue-200 text-blue-800'
                }`;
            fb.classList.remove('opacity-0');
        }

        function handlePrediction(step, correct, btn) {
            if (correct) {
                document.getElementById(`prediction-step-${step}`).classList.add('opacity-0', 'pointer-events-none');
                document.getElementById(`btn-step-${step}`).disabled = false;
                showFeedback("¬°Correcto! Los sets ignoran duplicados sin dar error.", 'success');
            } else {
                btn.classList.add('bg-red-100');
                setTimeout(() => btn.classList.remove('bg-red-100'), 500);
                showFeedback("Incorrecto. Recuerda: Un Set es una colecci√≥n de elementos √öNICOS.", 'error');
            }
        }

        function runConsoleStep(step) {
            // Enforce sequence? simplified for now
            let cmd, out, fb;
            if (step === 1) {
                internalSetState = [1, 2, 3];
                cmd = `>>> mi_set = {1, 2, 3}<br>>>> print(mi_set)`;
                out = `{1, 2, 3}`;
                fb = "Set creado exitosamente.";
                currentConsoleStep = 1;
            } else if (step === 2) {
                cmd = `>>> mi_set.add(2)<br>>>> print(mi_set)`;
                out = `{1, 2, 3}`;
                fb = "Como ves, el '2' NO se agreg√≥ porque ya exist√≠a.";
                currentConsoleStep = 2;
            } else if (step === 3) {
                cmd = `>>> mi_set.add(5)<br>>>> print(mi_set)`;
                out = `{1, 2, 3, 5}`;
                fb = "El '5' es nuevo, as√≠ que se agrega al conjunto.";
                currentConsoleStep = 3;
            }

            addToTerminal(`<span class="text-green-400 font-bold">${cmd}</span>`);
            setTimeout(() => {
                addToTerminal(`<span class="text-white">${out}</span>`);
                showFeedback(fb);
            }, 400);
        }


        // --- Slide 4 Logic: Venn Diagrams ---
        function showVenn(op) {
            const overlayA = document.getElementById('overlay-a');
            const overlayB = document.getElementById('overlay-b');
            const overlayInt = document.getElementById('overlay-int');
            const explanation = document.getElementById('venn-explanation');
            const result = document.getElementById('venn-result');
            const alertBox = document.getElementById('mistake-alert');
            const tipText = document.getElementById('tip-text');
            const element3 = document.getElementById('element-3');
            const codeContainer = document.getElementById('venn-code-container');

            // Reset overlays
            overlayA.className = "absolute left-0 w-48 h-48 rounded-full transition-all duration-500 pointer-events-none opacity-0";
            overlayB.className = "absolute right-0 w-48 h-48 rounded-full transition-all duration-500 pointer-events-none opacity-0";
            overlayInt.className = "absolute left-1/2 -translate-x-1/2 w-20 h-48 transition-all duration-500 pointer-events-none opacity-0 z-10";

            // Result styling
            result.classList.remove('opacity-0');
            alertBox.classList.add('hidden');

            // Default 3 visibility
            element3.classList.remove('opacity-0', 'opacity-20');

            // Base code template
            let codeHtml = `
                <div><span class="text-blue-600">set_a</span> = {<span class="text-green-600">1, 2, 3</span>}</div>
                <div><span class="text-blue-600">set_b</span> = {<span class="text-green-600">3, 4, 5</span>}</div>
            `;

            if (op === 'union') {
                // For Union, we light up everything
                overlayA.classList.add('bg-blue-200', 'opacity-100');
                overlayB.classList.add('bg-blue-400', 'opacity-100');
                overlayInt.classList.add('bg-blue-300', 'opacity-100');
                explanation.innerHTML = "<strong>Uni√≥n (A | B):</strong> Todos los elementos que est√°n en A o en B.";
                result.innerText = "{1, 2, 3, 4, 5}";
                codeHtml += `<div class="mt-2 text-purple-600 font-bold"># Operaci√≥n de Uni√≥n</div>
                             <div><span class="text-blue-600">res</span> = set_a | set_b <span class="text-gray-400"># {1, 2, 3, 4, 5}</span></div>`;
            } else if (op === 'intersection') {
                // For Intersection, only the middle
                overlayInt.classList.add('bg-highlight', 'opacity-100');
                explanation.innerHTML = "<strong>Intersecci√≥n (A & B):</strong> Solo elementos que est√°n en AMBOS conjuntos.";
                result.innerText = "{3}";
                codeHtml += `<div class="mt-2 text-purple-600 font-bold"># Operaci√≥n de Intersecci√≥n</div>
                             <div><span class="text-blue-600">res</span> = set_a & set_b <span class="text-gray-400"># {3}</span></div>`;
            } else if (op === 'difference_a_b') {
                overlayA.classList.add('bg-accent', 'opacity-60', 'opacity-100');
                overlayInt.classList.add('bg-white', 'opacity-100'); // Clean intersection mask
                element3.classList.add('opacity-20');
                explanation.innerHTML = "<strong>Diferencia (A - B):</strong> Elementos que est√°n en A pero NO en B.";
                result.innerText = "{1, 2}";
                alertBox.classList.remove('hidden');
                tipText.innerHTML = "Nota que <code>A - B</code> es diferente a <code>B - A</code>.";
                codeHtml += `<div class="mt-2 text-purple-600 font-bold"># Operaci√≥n de Diferencia</div>
                             <div><span class="text-blue-600">res</span> = set_a - set_b <span class="text-gray-400"># {1, 2}</span></div>`;
            } else if (op === 'difference_b_a') {
                overlayB.classList.add('bg-action', 'opacity-60', 'opacity-100');
                overlayInt.classList.add('bg-white', 'opacity-100'); // Clean intersection mask
                element3.classList.add('opacity-20');
                explanation.innerHTML = "<strong>Diferencia (B - A):</strong> Elementos que est√°n en B pero NO en A.";
                result.innerText = "{4, 5}";
                alertBox.classList.remove('hidden'); // Keep it visible to see "Probar" button
                tipText.innerHTML = "Nota que <code>A - B</code> es diferente a <code>B - A</code>.";
                codeHtml += `<div class="mt-2 text-purple-600 font-bold"># Diferencia (B - A)</div>
                             <div><span class="text-blue-600">res</span> = set_b - set_a <span class="text-gray-400"># {4, 5}</span></div>`;
            } else if (op === 'symmetric') {
                overlayA.classList.add('bg-accent', 'opacity-40', 'opacity-100');
                overlayB.classList.add('bg-action', 'opacity-40', 'opacity-100');
                overlayInt.classList.add('bg-white', 'opacity-100'); // Block the middle
                element3.classList.add('opacity-20');
                explanation.innerHTML = "<strong>Dif. Sim√©trica (A ^ B):</strong> Elementos que est√°n en A o en B, pero NO en ambos.";
                result.innerText = "{1, 2, 4, 5}";
                codeHtml += `<div class="mt-2 text-purple-600 font-bold"># Diferencia Sim√©trica</div>
                             <div><span class="text-blue-600">res</span> = set_a ^ set_b <span class="text-gray-400"># {1, 2, 4, 5}</span></div>`;
            }
            codeContainer.innerHTML = codeHtml;
        }

        // --- Slide 5 Logic: Comparisons ---
        function showComp(op) {
            const circleA = document.getElementById('comp-circle-a');
            const circleB = document.getElementById('comp-circle-b');
            const explanation = document.getElementById('comp-explanation');
            const result = document.getElementById('comp-result');
            const feedback = document.getElementById('comp-feedback');
            const tipText = document.getElementById('comp-tip-text');
            const codeContainer = document.getElementById('comp-code-container');

            // Reset
            circleA.className = "absolute w-32 h-32 rounded-full border-4 border-accent/30 flex items-center justify-center transition-all duration-700 bg-transparent z-10";
            circleB.className = "absolute w-60 h-60 rounded-full border-4 border-action/30 flex items-center justify-center transition-all duration-700 bg-transparent";
            circleA.style.transform = "none";
            result.classList.remove('opacity-0');
            feedback.classList.add('hidden');

            let codeHtml = `
                <div><span class="text-blue-600">set_a</span> = {<span class="text-green-600">1, 2, 3</span>}</div>
                <div><span class="text-blue-600">set_b</span> = {<span class="text-green-600">3, 4, 5</span>}</div>
            `;

            if (op === 'subset') {
                // Animation: Move A inside B
                circleA.classList.add('bg-accent/10', 'scale-75');
                circleB.classList.add('bg-action/5');
                explanation.innerHTML = "<strong>Subconjunto:</strong> A es subconjunto de B si todos los elementos de A est√°n en B.";
                result.innerText = "False";
                result.className = "mt-4 font-mono text-xl font-bold px-6 py-2 rounded-full bg-red-100 text-red-700 border border-red-200 transition-all duration-500 opacity-100";

                feedback.classList.remove('hidden');
                tipText.innerHTML = "En nuestro ejemplo, A={1,2,3} y B={3,4,5}. Como 1 y 2 no est√°n en B, <strong>A no es subconjunto de B</strong>.";
                codeHtml += `<div class="mt-2 text-purple-600 font-bold"># ¬øEs A subconjunto de B?</div>
                             <div><span class="text-blue-600">res</span> = set_a.issubset(set_b) <span class="text-gray-400"># False</span></div>`;
            } else if (op === 'superset') {
                explanation.innerHTML = "<strong>Superconjunto:</strong> A es superconjunto de B si contiene a todos los elementos de B.";
                circleA.classList.add('bg-accent/5');
                circleB.classList.add('bg-action/10', 'scale-75');
                result.innerText = "False";
                result.className = "mt-4 font-mono text-xl font-bold px-6 py-2 rounded-full bg-red-100 text-red-700 border border-red-200 transition-all duration-500 opacity-100";

                feedback.classList.remove('hidden');
                tipText.innerHTML = "Para que A fuera superconjunto, deber√≠a contener al 4 y al 5.";
                codeHtml += `<div class="mt-2 text-purple-600 font-bold"># ¬øEs A superconjunto de B?</div>
                             <div><span class="text-blue-600">res</span> = set_a.issuperset(set_b) <span class="text-gray-400"># False</span></div>`;
            } else if (op === 'subset_eq') {
                circleA.classList.add('bg-accent/10', 'scale-75');
                circleB.classList.add('bg-action/5');
                explanation.innerHTML = "<strong>Subconjunto o Igual:</strong> ¬øEst√°n todos los elementos de A en B? (Incluyendo si fueran iguales)";
                result.innerText = "False";
                result.className = "mt-4 font-mono text-xl font-bold px-6 py-2 rounded-full bg-red-100 text-red-700 border border-red-200 transition-all duration-500 opacity-100";
                codeHtml += `<div class="mt-2 text-purple-600 font-bold"># Subconjunto o igual</div>
                             <div><span class="text-blue-600">res</span> = set_a <= set_b <span class="text-gray-400"># False</span></div>`;
            } else if (op === 'superset_eq') {
                circleA.classList.add('bg-accent/5');
                circleB.classList.add('bg-action/10', 'scale-75');
                explanation.innerHTML = "<strong>Superconjunto o Igual:</strong> ¬øContiene A a todos los elementos de B? (Incluyendo si fueran iguales)";
                result.innerText = "False";
                result.className = "mt-4 font-mono text-xl font-bold px-6 py-2 rounded-full bg-red-100 text-red-700 border border-red-200 transition-all duration-500 opacity-100";
                codeHtml += `<div class="mt-2 text-purple-600 font-bold"># Superconjunto o igual</div>
                             <div><span class="text-blue-600">res</span> = set_a >= set_b <span class="text-gray-400"># False</span></div>`;
            }
            codeContainer.innerHTML = codeHtml;
        }

        // --- Slide 5 Logic: Scenario ---
        function checkScenario(choice, btn) {
            const feedback = document.getElementById('scenario-feedback');
            feedback.classList.remove('hidden');

            // disable all buttons
            btn.parentElement.querySelectorAll('button').forEach(b => b.disabled = true);

            if (choice === 'intersection') {
                btn.querySelector('.overlay').classList.add('opacity-30', 'bg-green-100');
                btn.classList.add('ring-2', 'ring-green-500');
                feedback.innerHTML = `<strong class="text-green-800">¬°Correcto!</strong><br>Queremos elementos que existan en A <strong>Y</strong> en B. <br><code class="mt-2 block bg-gray-100 p-2 rounded">clientes_ambos = fisica.intersection(online)</code>`;
                feedback.className = "mt-4 p-4 rounded-lg text-sm border bg-green-50 border-green-200 text-green-800";
            } else {
                btn.querySelector('.overlay').classList.add('opacity-30', 'bg-red-100');
                btn.classList.add('ring-2', 'ring-red-500');
                let explanation = choice === 'union' ? "La Uni√≥n incluir√≠a a gente que solo fue a una tienda." : "La Diferencia excluir√≠a a los que fueron a ambas.";
                feedback.innerHTML = `<strong class="text-red-800">No exactamente.</strong><br>${explanation}<br>Intenta de nuevo (recarga si deseas).`;
                feedback.className = "mt-4 p-4 rounded-lg text-sm border bg-red-50 border-red-200 text-red-800";
            }
        }

        function updateUI() {
            document.querySelectorAll('.slide').forEach(s => s.classList.add('force-hidden'));
            document.getElementById(`slide-${currentSlide}`).classList.remove('force-hidden');
            document.getElementById('current-slide-num').innerText = currentSlide;

            document.getElementById('btn-prev').disabled = currentSlide === 1;
            document.getElementById('btn-next').innerText = currentSlide === totalSlides ? 'Finalizar' : 'Siguiente';
            document.getElementById('btn-next').disabled = currentSlide === totalSlides;
        }

        function nextSlide() {
            if (currentSlide < totalSlides) {
                currentSlide++;
                updateUI();
            }
        }

        function prevSlide() {
            if (currentSlide > 1) {
                currentSlide--;
                updateUI();
            }
        }

        updateUI();

        document.addEventListener('keydown', (e) => {
            if (e.key === "ArrowRight") nextSlide();
            if (e.key === "ArrowLeft") prevSlide();
        });
    </script>
</body>

</html>